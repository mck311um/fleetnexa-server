model TenantNotification {
  title         String
  id            String               @id @default(dbgenerated("gen_random_uuid()"))
  type          NotificationType
  priority      NotificationPriority
  message       String
  tenantId      String
  actionUrl     String?
  createdAt     DateTime             @default(now())
  isDeleted     Boolean              @default(false)
  tenant        Tenant               @relation(fields: [tenantId], references: [id], onDelete: Cascade)
  readByUsers   NotificationReadStatus[]
}

model NotificationReadStatus {
  id                String             @id @default(dbgenerated("gen_random_uuid()"))
  notificationId     String
  userId            String
  readAt            DateTime           @default(now())
  
  notification       TenantNotification  @relation(fields: [notificationId], references: [id], onDelete: Cascade)
  user              User               @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([notificationId, userId])
}