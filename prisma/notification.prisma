model TenantNotification {
  id          String                   @id @default(dbgenerated("gen_random_uuid()"))
  title       String
  type        NotificationType
  priority    NotificationPriority
  message     String
  tenantId    String
  actionUrl   String?
  createdAt   DateTime                 @default(now())
  isDeleted   Boolean                  @default(false)
  readByUsers NotificationReadStatus[]
  tenant      Tenant                   @relation(fields: [tenantId], references: [id], onDelete: Cascade)
}

model NotificationReadStatus {
  id             String             @id @default(dbgenerated("gen_random_uuid()"))
  notificationId String
  userId         String
  readAt         DateTime           @default(now())
  notification   TenantNotification @relation(fields: [notificationId], references: [id], onDelete: Cascade)
  user           User               @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([notificationId, userId])
}
